<script src="../tinytest.js"></script>
<script>

// var arr = [2,4,7,9]

// find(arr, function(item, idx, array) {} );

function find(array, cbfn) {
  for (var i = 0; i < array.length; i++) {
    cbfn(array[i])
  }
 }

tests({
    "It should pass i-th elem as 1st arg to cbfn": function () {
      // false();
      find([3], function (num) {
        eq(num, 3)
      })
    },
  "It should return the first truthy elem and stop iteration": function () {
    // false();
    find([3, 4, 5, 6], function (num) {
      if (num % 2 !== 0) {
        return;
      }
      if (num % 2 === 0) {
        var answer = true
        return;  // stops cbfn at first true
      }
        eq(answer, true)
    })
  },
  "It should return undefined if no truthy elem found": function () {
    // false();
    find([3, 5], function (num) {
      var answer = undefined;
      if (num % 2 !== 0) {
        return;
      }
      if (num % 2 === 0) {
        var answer = true
        return;  // stops cbfn at first true
      }
      eq(answer, undefined)
    })
  },
  "It should vist empty elements in array and continue on": function () {
    // false();
    find([3, ,6], function (num) {
      var answer = undefined;
      if (num % 2 !== 0) {
        return;
      }
      if (num % 2 === 0) {
        var answer = 6
        return;  // stops cbfn at first true
      }
      eq(answer, 6)
    })
  },
  // "It should vist empty elements in array": function () {
  //   // false();
  //   find([3, , 6], function (num) {
  //     var answer = undefined;
  //     if (num % 2 !== 0) {
  //       return;
  //     }
  //     if (num % 2 === 0) {
  //       var answer = true
  //       return;  // stops cbfn at first true
  //     }
  //     eq(answer, undefined)
  //   })
  // }
})


</script>

<!-- 
The find() method immediatly returns the value of the first element in the provided array that satisfies the provided testing function. Otherwise, undefined is returned.

arr.find(callback(element[, index[, array]])[, thisArg])

callback
Function to execute on each value in the array, taking 3 arguments:

element
The current element in the array.

index Optional
The index (position) of the current element in the array.

array Optional
The array that find was called on.

thisArg Optional
Object to use as this inside callback.

The find method executes the callback function once for each index of the array until the callback returns a truthy value. If so, find immediately returns the value of that element. Otherwise, find returns undefined.

callback is invoked for every index of the array, not just those with assigned values. This means it may be less efficient for sparse arrays, compared to methods that only visit assigned values.

a sparse array is one which may have non-contiguous subscripts. This may be created by assignments to non-contigous elements or by deletion of elements

to skip over empty elements (sparse array), use for-in method. for-in will still visit null and undefined and will return as such

for (let i in arr) {
  console.log(arr[i])
}
https://www.youtube.com/watch?v=zrA89yUUjNY

Type: language
Subtag: fa
Description: Persian
Added: 2005-10-16
Suppress-Script: Arab
Scope: macrolanguage

If a thisArg parameter is provided to find, it will be used as the this value inside each invocation of the callback. If it is not provided, then undefined is used.

The find method does not mutate the array on which it is called, but the function provided to callback can. If so, the elements processed by find are set before the first invocation of callback. Therefore:

callback will not visit any elements added to the array after the call to find begins.
If an existing, yet-unvisited element of the array is changed by callback, its value passed to the callback will be the value at the time find visits that element's index.
Elements that are deleted are still visited.


It should return the first true find
It should return a new, not mutated array
It should have 3 parameters in cbfn
It should stop after a single true return
It should return undefined if all false

 -->
